resource "azurerm_automation_account" "AutomationAcc" {
  name                = var.automation_account_name
  location            = var.HubManagement_location
  resource_group_name = azurerm_resource_group.HubManagementRG.name
  sku_name            = var.automation_acc_sku_name
  
  tags = {
    environment = var.automation_acc_tag_env_name
  }
}

resource "azurerm_log_analytics_workspace" "LogAnalyticsWrkspce" {
  name                = var.Log_Analytics_Workspace_name
  location            = var.HubManagement_location
  resource_group_name = azurerm_resource_group.HubManagementRG.name
  sku                 = var.log_analytics_sku_name
  retention_in_days   = var.log_analytics_retention_in_days
}

resource "azurerm_recovery_services_vault" "RcvryVlt" {
  name                = var.recovery_services_vault_name
  location            = var.HubIdentity_location
  resource_group_name = azurerm_resource_group.HubIDMRG.name
  sku                 = var.Recovery_service_vault_sku_name

  soft_delete_enabled = var.Recovery_service_vault_soft_enabledelete
}
